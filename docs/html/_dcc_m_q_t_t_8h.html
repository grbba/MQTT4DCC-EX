<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DCC-EX MQTT: mqtt4dcc++ex/src/Transport/MQTT/DccMQTT.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="dccex-stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Dccpplogov2.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DCC-EX MQTT
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">MQTT support for the DCC-EX command station for model railroading</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_dcc_m_q_t_t_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">DccMQTT.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>MQTT protocol controller for DCC-EX. Sets up and maintains the connection to the MQTT broker incl setting up the topics. Topics are created specifically for the command station on which the code runs. Manages subsriptions as well as recieving/sending of messages on the different topics.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="_dcc_m_q_t_t_command_msg_8h_source.html">Transport/MQTT/DccMQTTCommandMsg.h</a>&gt;</code><br />
<code>#include &lt;PubSubClient.h&gt;</code><br />
<code>#include &lt;cppQueue.h&gt;</code><br />
<code>#include &lt;DCCEXParser.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for DccMQTT.h:</div>
<div class="dyncontent">
<div class="center"><img src="_dcc_m_q_t_t_8h__incl.png" border="0" usemap="#mqtt4dcc_09_09ex_2src_2_transport_2_m_q_t_t_2_dcc_m_q_t_t_8h" alt=""/></div>
<map name="mqtt4dcc_09_09ex_2src_2_transport_2_m_q_t_t_2_dcc_m_q_t_t_8h" id="mqtt4dcc_09_09ex_2src_2_transport_2_m_q_t_t_2_dcc_m_q_t_t_8h">
<area shape="rect" title="MQTT protocol controller for DCC&#45;EX. Sets up and maintains the connection to the MQTT broker incl set..." alt="" coords="299,5,485,47"/>
<area shape="rect" href="_dcc_m_q_t_t_command_msg_8h.html" title=" " alt="" coords="5,95,248,136"/>
<area shape="rect" title=" " alt="" coords="273,102,386,129"/>
<area shape="rect" title=" " alt="" coords="410,102,502,129"/>
<area shape="rect" title=" " alt="" coords="526,102,645,129"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="_dcc_m_q_t_t_8h__dep__incl.png" border="0" usemap="#mqtt4dcc_09_09ex_2src_2_transport_2_m_q_t_t_2_dcc_m_q_t_t_8hdep" alt=""/></div>
<map name="mqtt4dcc_09_09ex_2src_2_transport_2_m_q_t_t_2_dcc_m_q_t_t_8hdep" id="mqtt4dcc_09_09ex_2src_2_transport_2_m_q_t_t_2_dcc_m_q_t_t_8hdep">
<area shape="rect" title="MQTT protocol controller for DCC&#45;EX. Sets up and maintains the connection to the MQTT broker incl set..." alt="" coords="333,5,520,47"/>
<area shape="rect" href="_d_c_cpp_e_x___m_q_t_t_8cpp.html" title="Main entry point for the DCC++EX CommandStation MQTT interface. Derived from CVReader...." alt="" coords="5,95,200,136"/>
<area shape="rect" href="_dcc_telemetry_8cpp.html" title="Telemetry class allowing to report metrics to a specific MQTT topic for monitoring/debugging etc...." alt="" coords="225,95,415,136"/>
<area shape="rect" href="_dcc_m_q_t_t_8cpp.html" title="MQTT protocol controller for DCC&#45;EX. Sets up and maintains the connection to the MQTT broker incl set..." alt="" coords="440,95,627,136"/>
<area shape="rect" href="_dcc_m_q_t_t_proc_8cpp.html" title="Eexecuting DCC commands recieved through via MQTT. This class relies on the DCC API from the CVReader..." alt="" coords="651,95,837,136"/>
</map>
</div>
</div>
<p><a href="_dcc_m_q_t_t_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dcc_m_q_t_t.html">DccMQTT</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7527150b7170f26f22f6903401596dc2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a7527150b7170f26f22f6903401596dc2">CLOUDBROKER</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a7527150b7170f26f22f6903401596dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT broker configuration.  <a href="_dcc_m_q_t_t_8h.html#a7527150b7170f26f22f6903401596dc2">More...</a><br /></td></tr>
<tr class="separator:a7527150b7170f26f22f6903401596dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da4bdd90d82e2a8498f3fb429fed744"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a8da4bdd90d82e2a8498f3fb429fed744">MQTT_BROKER_PORT</a>&#160;&#160;&#160;9883</td></tr>
<tr class="separator:a8da4bdd90d82e2a8498f3fb429fed744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82d81b8eaac49580b09531fb1241043"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#ae82d81b8eaac49580b09531fb1241043">MQTT_BROKER_DOMAIN</a>&#160;&#160;&#160;&quot;tb.modelrailroad.ovh&quot;</td></tr>
<tr class="separator:ae82d81b8eaac49580b09531fb1241043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e10a14c90577250e029121ec6d3ba51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a5e10a14c90577250e029121ec6d3ba51">MQTT_BROKER_ADDRESS</a>&#160;&#160;&#160;51, 210, 151, 143</td></tr>
<tr class="separator:a5e10a14c90577250e029121ec6d3ba51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a881258fce424df363d3100d830f76f1d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a881258fce424df363d3100d830f76f1d">MAXDEVICEID</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a881258fce424df363d3100d830f76f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1bbfdab1be782156625e58a525a5646"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#ac1bbfdab1be782156625e58a525a5646">MAXTOPICS</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ac1bbfdab1be782156625e58a525a5646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6450951c9610ca493ca7e73f07c84aae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a6450951c9610ca493ca7e73f07c84aae">TCMDROOT</a>&#160;&#160;&#160;&quot;command/&quot;</td></tr>
<tr class="separator:a6450951c9610ca493ca7e73f07c84aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2b4fff13ce6e6497077b07bdde94fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a4e2b4fff13ce6e6497077b07bdde94fe">TCMRESROOT</a>&#160;&#160;&#160;&quot;result/&quot;</td></tr>
<tr class="separator:a4e2b4fff13ce6e6497077b07bdde94fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add78100a36339481e14b81f4d5e2d9bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#add78100a36339481e14b81f4d5e2d9bc">ADMROOT</a>&#160;&#160;&#160;&quot;admin/&quot;</td></tr>
<tr class="separator:add78100a36339481e14b81f4d5e2d9bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5215c4e0e1141aec33d46e118678b39"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#ae5215c4e0e1141aec33d46e118678b39">TELEMETRYROOT</a>&#160;&#160;&#160;&quot;telemetry/&quot;</td></tr>
<tr class="separator:ae5215c4e0e1141aec33d46e118678b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5930778355416807212ffb2dd4c2b7c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a5930778355416807212ffb2dd4c2b7c6">DIAGROOT</a>&#160;&#160;&#160;&quot;diag/&quot;</td></tr>
<tr class="separator:a5930778355416807212ffb2dd4c2b7c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46255ebe3598807080edff461b0d3304"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a46255ebe3598807080edff461b0d3304">JRMIROOT</a>&#160;&#160;&#160;&quot;jrmi/&quot;</td></tr>
<tr class="separator:a46255ebe3598807080edff461b0d3304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab915eec5713bb651e452652b8756f897"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#ab915eec5713bb651e452652b8756f897">NOOFDCCTOPICS</a>&#160;&#160;&#160;11</td></tr>
<tr class="separator:ab915eec5713bb651e452652b8756f897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53577bb9f395740323a9c03d19b9a8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#ab53577bb9f395740323a9c03d19b9a8a">MAX_KEYWORD_LENGTH</a>&#160;&#160;&#160;11</td></tr>
<tr class="memdesc:ab53577bb9f395740323a9c03d19b9a8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of keywords used in the command protocol.  <a href="_dcc_m_q_t_t_8h.html#ab53577bb9f395740323a9c03d19b9a8a">More...</a><br /></td></tr>
<tr class="separator:ab53577bb9f395740323a9c03d19b9a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a945767a98bc9745262464adff8552deb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a945767a98bc9745262464adff8552deb">MAXQUEUE</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:a945767a98bc9745262464adff8552deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ingoin and outgoing queues can hold 20 messages each; this should be bigger than the number of statically allocated pool items whose pointers are getting pushed into the queues.  <a href="_dcc_m_q_t_t_8h.html#a945767a98bc9745262464adff8552deb">More...</a><br /></td></tr>
<tr class="separator:a945767a98bc9745262464adff8552deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:afa16d8a9edfbfab71b7c7cf96569a84c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84c">DccTopics</a> { <br />
&#160;&#160;<a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84ca5c1c8d3916f54129c7eb600b87e516eb">CMD_L</a>, 
<a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84ca83a67cf6d0155dc6a970a6a283a0daec">CMD_T</a>, 
<a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84ca6674bf1c0cc68c5a7419db0c219c88b2">CMD_S</a>, 
<a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84cab05fc108f7d73a0dc17ab939dd7501e9">CMD_A</a>, 
<br />
&#160;&#160;<a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84ca7186ecefe792fdae9fec0a42f105ad6b">RESULT</a>, 
<a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84ca3228e792244f936584abc6e3d7542d2c">ADMIN</a>, 
<a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84ca042f47728fd5806837502e84059bbca9">TELEMETRY</a>, 
<a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84ca220c3469fe6303f4e62054932811455a">DIAGNOSTIC</a>, 
<br />
&#160;&#160;<a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84ca5ad04d12338c4dd615425fd9415b5323">JRMI</a>, 
<a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84ca19ed3aa3ceb9024c385d4220c5dd26f5">INVALID_T</a>
<br />
 }</td></tr>
<tr class="separator:afa16d8a9edfbfab71b7c7cf96569a84c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac1c37bb09cadbe351196d2049545f9e8"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#ac1c37bb09cadbe351196d2049545f9e8">_kRead</a> [] = {&quot;read&quot;}</td></tr>
<tr class="separator:ac1c37bb09cadbe351196d2049545f9e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39383eb0b171ae7f78add4df960c79de"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a39383eb0b171ae7f78add4df960c79de">_kWrite</a> [] = {&quot;write&quot;}</td></tr>
<tr class="separator:a39383eb0b171ae7f78add4df960c79de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e221223b7a7a6acd5a22380e02f9ada"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a1e221223b7a7a6acd5a22380e02f9ada">_kPower</a> [] = {&quot;power&quot;}</td></tr>
<tr class="separator:a1e221223b7a7a6acd5a22380e02f9ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc218c23ad63b134a26826b954bbc3e"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a5dc218c23ad63b134a26826b954bbc3e">_kThrottle</a> [] = {&quot;throttle&quot;}</td></tr>
<tr class="separator:a5dc218c23ad63b134a26826b954bbc3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe09e64b9309d0c1516b92c8b9ca7e4e"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#afe09e64b9309d0c1516b92c8b9ca7e4e">_kFunction</a> [] = {&quot;function&quot;}</td></tr>
<tr class="separator:afe09e64b9309d0c1516b92c8b9ca7e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf2f83b968c7019462d328237dbddbe0"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#acf2f83b968c7019462d328237dbddbe0">_kCv</a> [] = {&quot;cv&quot;}</td></tr>
<tr class="separator:acf2f83b968c7019462d328237dbddbe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9b7e2d3af9c0e8ba6c148110fd1a98"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#adc9b7e2d3af9c0e8ba6c148110fd1a98">_kSpeed</a> [] = {&quot;speed&quot;}</td></tr>
<tr class="separator:adc9b7e2d3af9c0e8ba6c148110fd1a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d60a752b75eae65ccfe95ce0c023e16"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a2d60a752b75eae65ccfe95ce0c023e16">_kLocomotive</a> [] = {&quot;locomotive&quot;}</td></tr>
<tr class="separator:a2d60a752b75eae65ccfe95ce0c023e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1256bb94d134fef7d5897aeb7d7de397"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a1256bb94d134fef7d5897aeb7d7de397">_kValue</a> [] = {&quot;value&quot;}</td></tr>
<tr class="separator:a1256bb94d134fef7d5897aeb7d7de397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af61cc05423ae3de7f821c6d3bf321822"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#af61cc05423ae3de7f821c6d3bf321822">_kDirection</a> [] = {&quot;direction&quot;}</td></tr>
<tr class="separator:af61cc05423ae3de7f821c6d3bf321822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affa2035bc406d80c8d96534e34d2e2d5"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#affa2035bc406d80c8d96534e34d2e2d5">_kState</a> [] = {&quot;state&quot;}</td></tr>
<tr class="separator:affa2035bc406d80c8d96534e34d2e2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773e7df617eafdbb17a75972d79762ec"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a773e7df617eafdbb17a75972d79762ec">_kFn</a> [] = {&quot;fn&quot;}</td></tr>
<tr class="separator:a773e7df617eafdbb17a75972d79762ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81c4bf3444c5bdc6982dcaacc62aac8"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#ad81c4bf3444c5bdc6982dcaacc62aac8">_kTrack</a> [] = {&quot;track&quot;}</td></tr>
<tr class="separator:ad81c4bf3444c5bdc6982dcaacc62aac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444daf0b9788153ff13867f13472352e"><td class="memItemLeft" align="right" valign="top">PROGMEM const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_dcc_m_q_t_t_8h.html#a444daf0b9788153ff13867f13472352e">_kBit</a> [] = {&quot;bit&quot;}</td></tr>
<tr class="separator:a444daf0b9788153ff13867f13472352e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MQTT protocol controller for DCC-EX. Sets up and maintains the connection to the MQTT broker incl setting up the topics. Topics are created specifically for the command station on which the code runs. Manages subsriptions as well as recieving/sending of messages on the different topics. </p>
<dl class="section author"><dt>Author</dt><dd>Gregor Baues </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2020-07-08</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2020</dd></dl>
<p>This is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>It is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details <a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="add78100a36339481e14b81f4d5e2d9bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add78100a36339481e14b81f4d5e2d9bc">&#9670;&nbsp;</a></span>ADMROOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADMROOT&#160;&#160;&#160;&quot;admin/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7527150b7170f26f22f6903401596dc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7527150b7170f26f22f6903401596dc2">&#9670;&nbsp;</a></span>CLOUDBROKER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLOUDBROKER&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT broker configuration. </p>
<p>select the broker to which to connect; 1 is the cloud broker local machine otherwise; IP address needs updating accordingly </p>

</div>
</div>
<a id="a5930778355416807212ffb2dd4c2b7c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5930778355416807212ffb2dd4c2b7c6">&#9670;&nbsp;</a></span>DIAGROOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIAGROOT&#160;&#160;&#160;&quot;diag/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a46255ebe3598807080edff461b0d3304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46255ebe3598807080edff461b0d3304">&#9670;&nbsp;</a></span>JRMIROOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JRMIROOT&#160;&#160;&#160;&quot;jrmi/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab53577bb9f395740323a9c03d19b9a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab53577bb9f395740323a9c03d19b9a8a">&#9670;&nbsp;</a></span>MAX_KEYWORD_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_KEYWORD_LENGTH&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of keywords used in the command protocol. </p>

</div>
</div>
<a id="a881258fce424df363d3100d830f76f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a881258fce424df363d3100d830f76f1d">&#9670;&nbsp;</a></span>MAXDEVICEID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXDEVICEID&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a945767a98bc9745262464adff8552deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a945767a98bc9745262464adff8552deb">&#9670;&nbsp;</a></span>MAXQUEUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXQUEUE&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The ingoin and outgoing queues can hold 20 messages each; this should be bigger than the number of statically allocated pool items whose pointers are getting pushed into the queues. </p>

</div>
</div>
<a id="ac1bbfdab1be782156625e58a525a5646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1bbfdab1be782156625e58a525a5646">&#9670;&nbsp;</a></span>MAXTOPICS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXTOPICS&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5e10a14c90577250e029121ec6d3ba51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e10a14c90577250e029121ec6d3ba51">&#9670;&nbsp;</a></span>MQTT_BROKER_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_BROKER_ADDRESS&#160;&#160;&#160;51, 210, 151, 143</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae82d81b8eaac49580b09531fb1241043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae82d81b8eaac49580b09531fb1241043">&#9670;&nbsp;</a></span>MQTT_BROKER_DOMAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_BROKER_DOMAIN&#160;&#160;&#160;&quot;tb.modelrailroad.ovh&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8da4bdd90d82e2a8498f3fb429fed744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8da4bdd90d82e2a8498f3fb429fed744">&#9670;&nbsp;</a></span>MQTT_BROKER_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MQTT_BROKER_PORT&#160;&#160;&#160;9883</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab915eec5713bb651e452652b8756f897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab915eec5713bb651e452652b8756f897">&#9670;&nbsp;</a></span>NOOFDCCTOPICS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NOOFDCCTOPICS&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6450951c9610ca493ca7e73f07c84aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6450951c9610ca493ca7e73f07c84aae">&#9670;&nbsp;</a></span>TCMDROOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCMDROOT&#160;&#160;&#160;&quot;command/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4e2b4fff13ce6e6497077b07bdde94fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e2b4fff13ce6e6497077b07bdde94fe">&#9670;&nbsp;</a></span>TCMRESROOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCMRESROOT&#160;&#160;&#160;&quot;result/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae5215c4e0e1141aec33d46e118678b39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5215c4e0e1141aec33d46e118678b39">&#9670;&nbsp;</a></span>TELEMETRYROOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TELEMETRYROOT&#160;&#160;&#160;&quot;telemetry/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="afa16d8a9edfbfab71b7c7cf96569a84c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa16d8a9edfbfab71b7c7cf96569a84c">&#9670;&nbsp;</a></span>DccTopics</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_dcc_m_q_t_t_8h.html#afa16d8a9edfbfab71b7c7cf96569a84c">DccTopics</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afa16d8a9edfbfab71b7c7cf96569a84ca5c1c8d3916f54129c7eb600b87e516eb"></a>CMD_L&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afa16d8a9edfbfab71b7c7cf96569a84ca83a67cf6d0155dc6a970a6a283a0daec"></a>CMD_T&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afa16d8a9edfbfab71b7c7cf96569a84ca6674bf1c0cc68c5a7419db0c219c88b2"></a>CMD_S&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afa16d8a9edfbfab71b7c7cf96569a84cab05fc108f7d73a0dc17ab939dd7501e9"></a>CMD_A&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afa16d8a9edfbfab71b7c7cf96569a84ca7186ecefe792fdae9fec0a42f105ad6b"></a>RESULT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afa16d8a9edfbfab71b7c7cf96569a84ca3228e792244f936584abc6e3d7542d2c"></a>ADMIN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afa16d8a9edfbfab71b7c7cf96569a84ca042f47728fd5806837502e84059bbca9"></a>TELEMETRY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afa16d8a9edfbfab71b7c7cf96569a84ca220c3469fe6303f4e62054932811455a"></a>DIAGNOSTIC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afa16d8a9edfbfab71b7c7cf96569a84ca5ad04d12338c4dd615425fd9415b5323"></a>JRMI&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="afa16d8a9edfbfab71b7c7cf96569a84ca19ed3aa3ceb9024c385d4220c5dd26f5"></a>INVALID_T&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a444daf0b9788153ff13867f13472352e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a444daf0b9788153ff13867f13472352e">&#9670;&nbsp;</a></span>_kBit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kBit[] = {&quot;bit&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acf2f83b968c7019462d328237dbddbe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf2f83b968c7019462d328237dbddbe0">&#9670;&nbsp;</a></span>_kCv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kCv[] = {&quot;cv&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af61cc05423ae3de7f821c6d3bf321822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af61cc05423ae3de7f821c6d3bf321822">&#9670;&nbsp;</a></span>_kDirection</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kDirection[] = {&quot;direction&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a773e7df617eafdbb17a75972d79762ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a773e7df617eafdbb17a75972d79762ec">&#9670;&nbsp;</a></span>_kFn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kFn[] = {&quot;fn&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afe09e64b9309d0c1516b92c8b9ca7e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe09e64b9309d0c1516b92c8b9ca7e4e">&#9670;&nbsp;</a></span>_kFunction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kFunction[] = {&quot;function&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2d60a752b75eae65ccfe95ce0c023e16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d60a752b75eae65ccfe95ce0c023e16">&#9670;&nbsp;</a></span>_kLocomotive</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kLocomotive[] = {&quot;locomotive&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1e221223b7a7a6acd5a22380e02f9ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e221223b7a7a6acd5a22380e02f9ada">&#9670;&nbsp;</a></span>_kPower</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kPower[] = {&quot;power&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac1c37bb09cadbe351196d2049545f9e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c37bb09cadbe351196d2049545f9e8">&#9670;&nbsp;</a></span>_kRead</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kRead[] = {&quot;read&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adc9b7e2d3af9c0e8ba6c148110fd1a98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc9b7e2d3af9c0e8ba6c148110fd1a98">&#9670;&nbsp;</a></span>_kSpeed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kSpeed[] = {&quot;speed&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="affa2035bc406d80c8d96534e34d2e2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affa2035bc406d80c8d96534e34d2e2d5">&#9670;&nbsp;</a></span>_kState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kState[] = {&quot;state&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5dc218c23ad63b134a26826b954bbc3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dc218c23ad63b134a26826b954bbc3e">&#9670;&nbsp;</a></span>_kThrottle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kThrottle[] = {&quot;throttle&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad81c4bf3444c5bdc6982dcaacc62aac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad81c4bf3444c5bdc6982dcaacc62aac8">&#9670;&nbsp;</a></span>_kTrack</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kTrack[] = {&quot;track&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1256bb94d134fef7d5897aeb7d7de397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1256bb94d134fef7d5897aeb7d7de397">&#9670;&nbsp;</a></span>_kValue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kValue[] = {&quot;value&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a39383eb0b171ae7f78add4df960c79de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39383eb0b171ae7f78add4df960c79de">&#9670;&nbsp;</a></span>_kWrite</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROGMEM const char _kWrite[] = {&quot;write&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ec42efdab9561e661da1f75b005d9028.html">mqtt4dcc++ex</a></li><li class="navelem"><a class="el" href="dir_302314e4386c27c9ed42b9b7d045dc4e.html">src</a></li><li class="navelem"><a class="el" href="dir_a66fa4ce9e2bbe44a30452b10a69db06.html">Transport</a></li><li class="navelem"><a class="el" href="dir_f71fbbcb014bb7c05c354104e401ed5d.html">MQTT</a></li><li class="navelem"><a class="el" href="_dcc_m_q_t_t_8h.html">DccMQTT.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
